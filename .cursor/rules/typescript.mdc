---
description: TypeScript strict mode conventions — types, Zod, return types, no-any rule.
globs: **/*.ts,**/*.tsx
alwaysApply: false
---

# TypeScript Conventions

- Strict mode always on
- `type` for object shapes — `interface` only when extending
- No `any` — use `unknown` + type guards for dynamic values
- Always type return values explicitly for exported functions
- Zod for runtime validation at all API and form entry points
- Export inferred types from Zod schemas — don't duplicate type definitions

```ts
// ✅
export const CreateBookingSchema = z.object({
  date: z.string().datetime(),
  serviceId: z.string().cuid(),
})
export type CreateBookingInput = z.infer<typeof CreateBookingSchema>

export async function getBooking(id: string): Promise<Booking | null> { ... }

// ❌
const getBooking = async (id: any) => { ... }
```

## Shared types
- `ActionResult<T>` lives in `types/index.ts` — import from `@/types`, never redefine inline:

```ts
// types/index.ts
export type ActionResult<T = void> =
  | { success: true; data: T }
  | { success: false; error: string; fieldErrors?: Partial<Record<string, string>> }
```
